(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{TbC0:function(t,n,e){"use strict";e.r(n);var l=e("CcnG"),r=function(){},u=e("pMnS"),i=e("ZYCi"),o=function(){function t(){}return t.prototype.ngOnInit=function(){},t}(),c=l.vb({encapsulation:0,styles:[[""]],data:{}});function a(t){return l.Rb(0,[(t()(),l.xb(0,0,null,null,2,"div",[],null,null,null,null,null)),(t()(),l.xb(1,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),l.wb(2,212992,null,0,i.p,[i.b,l.V,l.k,[8,null],l.i],null,null)],function(t,n){t(n,2,0)},null)}var s=l.tb("app-home",o,function(t){return l.Rb(0,[(t()(),l.xb(0,0,null,null,1,"app-home",[],null,null,null,a,c)),l.wb(1,114688,null,0,o,[],null,null)],function(t,n){t(n,1,0)},null)},{},{},[]),b=e("Ip0R"),p=e("ebDo"),f=e("6Cds"),h=e("mrSG"),g=e("FFOo"),d=e("pugT"),v=function(){function t(t){this.callback=t}return t.prototype.call=function(t,n){return n.subscribe(new F(t,this.callback))},t}(),F=function(t){function n(n,e){var l=t.call(this,n)||this;return l.add(new d.a(e)),l}return h.c(n,t),n}(g.a),m=e("t/Na"),y=e("67Y/"),k=function(){function t(t){this.httpClient=t}return t.prototype.getHeaders=function(t){var n={"Content-Type":"application/json; charset=utf-8"};return t&&(n.Authorization="Token "+t),new m.h(n)},t.prototype.get=function(t,n,e){void 0===n&&(n=new m.i),void 0===e&&(e=null);var l=this.getHeaders(e);return this.httpClient.get(t,{params:n,headers:l})},t.prototype.delete=function(t,n){void 0===n&&(n=null);var e=this.getHeaders(n);return this.httpClient.delete(t,{headers:e})},t.prototype.post=function(t,n,e){void 0===n&&(n={}),void 0===e&&(e=null);var l=this.getHeaders(e);return this.httpClient.post(t,JSON.stringify(n),{headers:l})},t.prototype.put=function(t,n,e){void 0===n&&(n={}),void 0===e&&(e=null);var l=this.getHeaders(e);return this.httpClient.put(t,JSON.stringify(n),{headers:l})},t.ngInjectableDef=l.Z({factory:function(){return new t(l.db(m.c))},token:t,providedIn:"root"}),t}(),w=function(){function t(){this.baseUrl="https://conduit.productionready.io"}return t.prototype.getFeedArticlesUrl=function(){return this.baseUrl+"/api/articles/feed"},t.prototype.getCurrentUserUrl=function(){return this.baseUrl+"/api/user"},t.prototype.getArticlesUrl=function(){return this.baseUrl+"/api/articles"},t.prototype.getArticleUrl=function(t){return this.baseUrl+"/api/articles/"+t},t.prototype.getPopularTagsUrl=function(){return this.baseUrl+"/api/tags"},t.prototype.getLoginUrl=function(){return this.baseUrl+"/api/users/login"},t.prototype.getUsersUrl=function(){return this.baseUrl+"/api/users"},t.prototype.getProfileUrl=function(t){return this.baseUrl+"/api/profiles/"+t},t.prototype.getFollowUrl=function(t){return this.getProfileUrl(t)+"/follow"},t.prototype.getFavoriteUrl=function(t){return this.getArticleUrl(t)+"/favorite"},t.prototype.getCommentsUrl=function(t){return this.getArticleUrl(t)+"/comments"},t.prototype.getCommentUrl=function(t,n){return this.getCommentsUrl(t)+"/"+n},t.ngInjectableDef=l.Z({factory:function(){return new t},token:t,providedIn:"root"}),t}(),x=function(){function t(){this.TOKEN_KEY="REALWORLD_JWT_ANGULAR"}return t.prototype.getToken=function(){return window.localStorage.getItem(this.TOKEN_KEY)},t.prototype.setToken=function(t){window.localStorage.setItem(this.TOKEN_KEY,t)},t.prototype.removeToken=function(){window.localStorage.removeItem(this.TOKEN_KEY)},t.prototype.tokenExists=function(){return!!this.getToken()},t.ngInjectableDef=l.Z({factory:function(){return new t},token:t,providedIn:"root"}),t}(),U=function(){function t(t,n,e){this.http=t,this.urls=n,this.tokenService=e}return t.prototype.getArticles=function(t){var n=this.urls.getArticlesUrl(),e={limit:t.limit.toString(),offset:t.offset.toString(),author:t.author,favorited:t.favoritedBy,tag:t.tag};return Object.keys(e).forEach(function(t){return!e[t]&&delete e[t]}),this.http.get(n,new m.i({fromObject:e}),this.tokenService.getToken())},t.prototype.getFeedArticles=function(t,n){var e=this.urls.getFeedArticlesUrl(),l={fromObject:{limit:t.toString(),offset:n.toString()}};return this.http.get(e,new m.i(l),this.tokenService.getToken())},t.prototype.login=function(t){var n=this.urls.getLoginUrl();return this.http.post(n,t).pipe(Object(y.a)(function(t){return t.user}))},t.prototype.getArticle=function(t){var n=this.urls.getArticleUrl(t);return this.http.get(n,null,this.tokenService.getToken()).pipe(Object(y.a)(function(t){return t.article}))},t.prototype.getPopularTags=function(){var t=this.urls.getPopularTagsUrl();return this.http.get(t).pipe(Object(y.a)(function(t){return t.tags}))},t.prototype.signUp=function(t){var n=this.urls.getUsersUrl();return this.http.post(n,t).pipe(Object(y.a)(function(t){return t.user}))},t.prototype.updateArticle=function(t){var n=this.urls.getArticleUrl(t.slug);return this.http.put(n,{article:t},this.tokenService.getToken()).pipe(Object(y.a)(function(t){return t.article}))},t.prototype.createArticle=function(t){var n=this.urls.getArticlesUrl();return this.http.post(n,{article:t},this.tokenService.getToken()).pipe(Object(y.a)(function(t){return t.article}))},t.prototype.deleteArticle=function(t){var n=this.urls.getArticleUrl(t);return this.http.delete(n,this.tokenService.getToken())},t.prototype.getCurrentUser=function(){var t=this.urls.getCurrentUserUrl();return this.http.get(t,null,this.tokenService.getToken()).pipe(Object(y.a)(function(t){return t.user}))},t.prototype.updateUser=function(t){var n=this.urls.getCurrentUserUrl();return this.http.put(n,{user:t},this.tokenService.getToken()).pipe(Object(y.a)(function(t){return t.user}))},t.prototype.getProfile=function(t){var n=this.urls.getProfileUrl(t);return this.http.get(n,null,this.tokenService.getToken()).pipe(Object(y.a)(function(t){return t.profile}))},t.prototype.follow=function(t){var n=this.urls.getFollowUrl(t);return this.http.post(n,null,this.tokenService.getToken()).pipe(Object(y.a)(function(t){return t.profile}))},t.prototype.unfollow=function(t){var n=this.urls.getFollowUrl(t);return this.http.delete(n,this.tokenService.getToken()).pipe(Object(y.a)(function(t){return t.profile}))},t.prototype.favoriteArticle=function(t){var n=this.urls.getFavoriteUrl(t);return this.http.post(n,null,this.tokenService.getToken()).pipe(Object(y.a)(function(t){return t.article}))},t.prototype.unfavoriteArticle=function(t){var n=this.urls.getFavoriteUrl(t);return this.http.delete(n,this.tokenService.getToken()).pipe(Object(y.a)(function(t){return t.article}))},t.prototype.getComments=function(t){var n=this.urls.getCommentsUrl(t);return this.http.get(n,null,this.tokenService.getToken()).pipe(Object(y.a)(function(t){return t.comments}))},t.prototype.postComment=function(t,n){var e=this.urls.getCommentsUrl(t);return this.http.post(e,{comment:{body:n}},this.tokenService.getToken())},t.prototype.deleteComment=function(t,n){var e=this.urls.getCommentUrl(t,n);return this.http.delete(e,this.tokenService.getToken())},t.ngInjectableDef=l.Z({factory:function(){return new t(l.db(k),l.db(w),l.db(x))},token:t,providedIn:"root"}),t}(),A=function(){function t(t){this.apiService=t,this.pageSize=20,this.currentPage=1}return t.prototype.ngOnChanges=function(t){this.getArticles()},t.prototype.ngOnInit=function(){this.getArticles()},t.prototype.getArticles=function(){var t,n=this,e={limit:this.pageSize,offset:(this.currentPage-1)*this.pageSize,author:this.author,favoritedBy:this.favoritedBy,tag:this.tag},l=this.myFeed?this.apiService.getFeedArticles(e.limit,e.offset):this.apiService.getArticles(e);this.isLoading=!0,l.pipe((t=function(){return n.isLoading=!1},function(n){return n.lift(new v(t))})).subscribe(function(t){n.articles=t.articles,n.articlesCount=t.articlesCount})},t.prototype.pageCount=function(){return Math.ceil(this.articlesCount/this.pageSize)},t.prototype.onPageIndexChange=function(t){this.currentPage=t,this.getArticles()},t.prototype.toggleFavoritedArticle=function(t){var n=this;(t.favorited?this.apiService.unfavoriteArticle(t.slug):this.apiService.favoriteArticle(t.slug)).subscribe(function(t){return n.article=t})},t.prototype.favoriteClass=function(t){return{"btn-primary":t.favorited,"btn-outline-primary":!t.favorited}},t}(),S=l.vb({encapsulation:0,styles:[[""]],data:{}});function C(t){return l.Rb(0,[(t()(),l.xb(0,0,null,null,24,"div",[["class","article-preview"]],null,null,null,null,null)),(t()(),l.xb(1,0,null,null,14,"div",[["class","article-meta"]],null,null,null,null,null)),(t()(),l.xb(2,0,null,null,3,"a",[],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(t,n,e){var r=!0;return"click"===n&&(r=!1!==l.Hb(t,3).onClick(e.button,e.ctrlKey,e.metaKey,e.shiftKey)&&r),r},null,null)),l.wb(3,671744,null,0,i.n,[i.m,i.a,b.j],{routerLink:[0,"routerLink"]},null),l.Ib(4,2),(t()(),l.xb(5,0,null,null,0,"img",[["style","width: 200px"]],[[8,"src",4]],null,null,null,null)),(t()(),l.xb(6,0,null,null,6,"div",[["class","info"]],null,null,null,null,null)),(t()(),l.xb(7,0,null,null,3,"a",[["class","author"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(t,n,e){var r=!0;return"click"===n&&(r=!1!==l.Hb(t,8).onClick(e.button,e.ctrlKey,e.metaKey,e.shiftKey)&&r),r},null,null)),l.wb(8,671744,null,0,i.n,[i.m,i.a,b.j],{routerLink:[0,"routerLink"]},null),l.Ib(9,2),(t()(),l.Pb(10,null,["",""])),(t()(),l.xb(11,0,null,null,1,"span",[["class","date"]],null,null,null,null,null)),(t()(),l.Pb(12,null,["",""])),(t()(),l.xb(13,0,null,null,2,"button",[["class","btn btn-outline-primary btn-sm pull-xs-right"]],null,null,null,null,null)),(t()(),l.xb(14,0,null,null,0,"i",[["class","ion-heart"]],null,null,null,null,null)),(t()(),l.Pb(15,null,[" ",""])),(t()(),l.xb(16,0,null,null,8,"a",[["class","preview-link"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(t,n,e){var r=!0;return"click"===n&&(r=!1!==l.Hb(t,17).onClick(e.button,e.ctrlKey,e.metaKey,e.shiftKey)&&r),r},null,null)),l.wb(17,671744,null,0,i.n,[i.m,i.a,b.j],{routerLink:[0,"routerLink"]},null),l.Ib(18,2),(t()(),l.xb(19,0,null,null,1,"h1",[],null,null,null,null,null)),(t()(),l.Pb(20,null,["",""])),(t()(),l.xb(21,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),l.Pb(22,null,["",""])),(t()(),l.xb(23,0,null,null,1,"span",[],null,null,null,null,null)),(t()(),l.Pb(-1,null,["Read more..."]))],function(t,n){t(n,3,0,t(n,4,0,"/profile",n.context.$implicit.author.username)),t(n,8,0,t(n,9,0,"/profile",n.context.$implicit.author.username)),t(n,17,0,t(n,18,0,"/articles",n.context.$implicit.slug))},function(t,n){t(n,2,0,l.Hb(n,3).target,l.Hb(n,3).href),t(n,5,0,l.zb(1,"",n.context.$implicit.author.image,"")),t(n,7,0,l.Hb(n,8).target,l.Hb(n,8).href),t(n,10,0,n.context.$implicit.author.username),t(n,12,0,n.context.$implicit.createdAt),t(n,15,0,n.context.$implicit.favoritesCount),t(n,16,0,l.Hb(n,17).target,l.Hb(n,17).href),t(n,20,0,n.context.$implicit.title),t(n,22,0,n.context.$implicit.description)})}function I(t){return l.Rb(0,[(t()(),l.xb(0,0,null,null,1,"nz-pagination",[],null,[[null,"nzPageIndexChange"]],function(t,n,e){var l=!0;return"nzPageIndexChange"===n&&(l=!1!==t.component.onPageIndexChange(e)&&l),l},p.r,p.i)),l.wb(1,245760,null,0,f.jb,[f.oe],{nzPageIndex:[0,"nzPageIndex"],nzTotal:[1,"nzTotal"]},{nzPageIndexChange:"nzPageIndexChange"})],function(t,n){var e=n.component;t(n,1,0,e.currentPage,e.articlesCount)},null)}function O(t){return l.Rb(0,[(t()(),l.xb(0,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),l.Pb(-1,null,["Please wait... loading articles"]))],null,null)}function T(t){return l.Rb(0,[(t()(),l.xb(0,0,null,null,6,"div",[],null,null,null,null,null)),(t()(),l.ob(16777216,null,null,1,null,C)),l.wb(2,278528,null,0,b.l,[l.V,l.R,l.v],{ngForOf:[0,"ngForOf"]},null),(t()(),l.ob(16777216,null,null,1,null,I)),l.wb(4,16384,null,0,b.m,[l.V,l.R],{ngIf:[0,"ngIf"]},null),(t()(),l.ob(16777216,null,null,1,null,O)),l.wb(6,16384,null,0,b.m,[l.V,l.R],{ngIf:[0,"ngIf"]},null)],function(t,n){var e=n.component;t(n,2,0,e.articles),t(n,4,0,!e.isLoading),t(n,6,0,e.isLoading)},null)}var j=function(){function t(){}return t.prototype.ngOnInit=function(){},t}(),P=l.vb({encapsulation:0,styles:[[""]],data:{}});function z(t){return l.Rb(0,[(t()(),l.xb(0,0,null,null,2,"p",[],null,null,null,null,null)),(t()(),l.xb(1,0,null,null,1,"app-article-list",[],null,null,null,T,S)),l.wb(2,638976,null,0,A,[U],null,null)],function(t,n){t(n,2,0)},null)}var R=l.tb("app-home-global-feed",j,function(t){return l.Rb(0,[(t()(),l.xb(0,0,null,null,1,"app-home-global-feed",[],null,null,null,z,P)),l.wb(1,114688,null,0,j,[],null,null)],function(t,n){t(n,1,0)},null)},{},{},[]),H=function(){function t(){}return t.prototype.ngOnInit=function(){},t}(),K=l.vb({encapsulation:0,styles:[[""]],data:{}});function L(t){return l.Rb(0,[(t()(),l.xb(0,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),l.Pb(-1,null,[" home-my-feed works!\n"]))],null,null)}var D=l.tb("app-home-my-feed",H,function(t){return l.Rb(0,[(t()(),l.xb(0,0,null,null,1,"app-home-my-feed",[],null,null,null,L,K)),l.wb(1,114688,null,0,H,[],null,null)],function(t,n){t(n,1,0)},null)},{},{},[]),E=function(){function t(){}return t.prototype.ngOnInit=function(){},t}(),Z=l.vb({encapsulation:0,styles:[[""]],data:{}});function M(t){return l.Rb(0,[(t()(),l.xb(0,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),l.Pb(-1,null,[" home-tag works!\n"]))],null,null)}var q=l.tb("app-home-tag",E,function(t){return l.Rb(0,[(t()(),l.xb(0,0,null,null,1,"app-home-tag",[],null,null,null,M,Z)),l.wb(1,114688,null,0,E,[],null,null)],function(t,n){t(n,1,0)},null)},{},{},[]),N=e("M2Lx"),Y=e("gIcY"),$=e("eDkP"),B=e("Fzqc"),W=e("26FU"),V=e("ad02"),_=function(){function t(){this.isAuthenticatedSubject=new W.a(!1),this.isAuthenticated=this.isAuthenticatedSubject.asObservable().pipe(Object(V.a)())}return t.prototype.getIsAuthenticated=function(){return this.isAuthenticatedSubject.value},t.ngInjectableDef=l.Z({factory:function(){return new t},token:t,providedIn:"root"}),t}(),G=function(){function t(t,n){this.authService=t,this.router=n}return t.prototype.canActivate=function(t,n){return!!this.authService.getIsAuthenticated()||(this.router.navigate(["/login"],{queryParams:{return:n.url}}),!1)},t.ngInjectableDef=l.Z({factory:function(){return new t(l.db(_),l.db(i.m))},token:t,providedIn:"root"}),t}(),J=function(){},Q=e("dWZg"),X=e("4c35"),tt=e("qAlS"),nt=function(){};e.d(n,"HomeModuleNgFactory",function(){return et});var et=l.ub(r,[],function(t){return l.Eb([l.Fb(512,l.k,l.ib,[[8,[u.a,s,R,D,q,p.s,p.t,p.u,p.v,p.w,p.x,p.y,p.z]],[3,l.k],l.A]),l.Fb(4608,b.o,b.n,[l.x,[2,b.B]]),l.Fb(4608,N.c,N.c,[]),l.Fb(4608,Y.k,Y.k,[]),l.Fb(5120,f.re,f.te,[[3,f.re],f.se]),l.Fb(4608,b.e,b.e,[l.x]),l.Fb(5120,f.oe,f.pe,[[3,f.oe],f.qe,f.re,b.e]),l.Fb(4608,$.d,$.d,[$.k,$.f,l.k,$.i,$.g,l.t,l.C,b.d,B.b]),l.Fb(5120,$.l,$.m,[$.d]),l.Fb(5120,f.Q,f.R,[b.d,[3,f.Q]]),l.Fb(4608,f.eb,f.eb,[]),l.Fb(4608,f.yb,f.yb,[]),l.Fb(4608,f.ed,f.ed,[$.d]),l.Fb(4608,f.Hd,f.Hd,[$.d,l.t,l.k,l.g]),l.Fb(4608,f.Od,f.Od,[$.d,l.t,l.k,l.g]),l.Fb(4608,f.Wd,f.Wd,[[3,f.Wd]]),l.Fb(4608,f.Yd,f.Yd,[$.d,f.re,f.Wd]),l.Fb(1073742336,b.c,b.c,[]),l.Fb(1073742336,i.o,i.o,[[2,i.u],[2,i.m]]),l.Fb(1073742336,J,J,[]),l.Fb(1073742336,N.d,N.d,[]),l.Fb(1073742336,Q.b,Q.b,[]),l.Fb(1073742336,f.sd,f.sd,[]),l.Fb(1073742336,f.je,f.je,[]),l.Fb(1073742336,f.d,f.d,[]),l.Fb(1073742336,Y.j,Y.j,[]),l.Fb(1073742336,Y.d,Y.d,[]),l.Fb(1073742336,f.g,f.g,[]),l.Fb(1073742336,f.f,f.f,[]),l.Fb(1073742336,f.i,f.i,[]),l.Fb(1073742336,B.a,B.a,[]),l.Fb(1073742336,X.e,X.e,[]),l.Fb(1073742336,tt.a,tt.a,[]),l.Fb(1073742336,$.h,$.h,[]),l.Fb(1073742336,f.m,f.m,[]),l.Fb(1073742336,f.me,f.me,[]),l.Fb(1073742336,f.w,f.w,[]),l.Fb(1073742336,f.B,f.B,[]),l.Fb(1073742336,f.D,f.D,[]),l.Fb(1073742336,f.M,f.M,[]),l.Fb(1073742336,f.T,f.T,[]),l.Fb(1073742336,f.O,f.O,[]),l.Fb(1073742336,f.V,f.V,[]),l.Fb(1073742336,f.X,f.X,[]),l.Fb(1073742336,f.fb,f.fb,[]),l.Fb(1073742336,f.ib,f.ib,[]),l.Fb(1073742336,f.kb,f.kb,[]),l.Fb(1073742336,f.nb,f.nb,[]),l.Fb(1073742336,f.qb,f.qb,[]),l.Fb(1073742336,f.ub,f.ub,[]),l.Fb(1073742336,f.Db,f.Db,[]),l.Fb(1073742336,f.wb,f.wb,[]),l.Fb(1073742336,f.Gb,f.Gb,[]),l.Fb(1073742336,f.Ib,f.Ib,[]),l.Fb(1073742336,f.Kb,f.Kb,[]),l.Fb(1073742336,f.Mb,f.Mb,[]),l.Fb(1073742336,f.Ob,f.Ob,[]),l.Fb(1073742336,f.Qb,f.Qb,[]),l.Fb(1073742336,f.Xb,f.Xb,[]),l.Fb(1073742336,f.cc,f.cc,[]),l.Fb(1073742336,f.ec,f.ec,[]),l.Fb(1073742336,f.hc,f.hc,[]),l.Fb(1073742336,f.lc,f.lc,[]),l.Fb(1073742336,f.nc,f.nc,[]),l.Fb(1073742336,f.qc,f.qc,[]),l.Fb(1073742336,f.zc,f.zc,[]),l.Fb(1073742336,f.yc,f.yc,[]),l.Fb(1073742336,f.xc,f.xc,[]),l.Fb(1073742336,f.Zc,f.Zc,[]),l.Fb(1073742336,f.bd,f.bd,[]),l.Fb(1073742336,f.fd,f.fd,[]),l.Fb(1073742336,f.nd,f.nd,[]),l.Fb(1073742336,f.rd,f.rd,[]),l.Fb(1073742336,f.wd,f.wd,[]),l.Fb(1073742336,f.Ad,f.Ad,[]),l.Fb(1073742336,f.Cd,f.Cd,[]),l.Fb(1073742336,f.Id,f.Id,[]),l.Fb(1073742336,f.Pd,f.Pd,[]),l.Fb(1073742336,f.Rd,f.Rd,[]),l.Fb(1073742336,f.Td,f.Td,[]),l.Fb(1073742336,f.Zd,f.Zd,[]),l.Fb(1073742336,f.be,f.be,[]),l.Fb(1073742336,f.de,f.de,[]),l.Fb(1073742336,f.he,f.he,[]),l.Fb(1073742336,f.ke,f.ke,[]),l.Fb(1073742336,f.b,f.b,[]),l.Fb(1073742336,nt,nt,[]),l.Fb(1073742336,r,r,[]),l.Fb(1024,i.k,function(){return[[{path:"",component:o,children:[{path:"",component:j},{path:"my-feed",component:H,canActivate:[G]},{path:"tag/:tag",component:E}]}]]},[]),l.Fb(256,f.se,!1,[]),l.Fb(256,f.qe,void 0,[]),l.Fb(256,f.Ed,{nzDuration:3e3,nzAnimate:!0,nzPauseOnHover:!0,nzMaxStack:7},[]),l.Fb(256,f.Ld,{nzTop:"24px",nzBottom:"24px",nzPlacement:"topRight",nzDuration:4500,nzMaxStack:7,nzPauseOnHover:!0,nzAnimate:!0},[])])})}}]);